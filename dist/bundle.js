!function(e){function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(module,exports,__webpack_require__){"use strict";function drawBoard(){gb.fillStyle="#ffffff",gb.fillRect(0,0,width,headerHeight+width),gb.lineWidth=10,gb.lineCap="round",gb.strokeStyle="#2c3e50",gb.beginPath(),gb.moveTo(width/3,headerHeight+padding),gb.lineTo(width/3,600-padding),gb.stroke(),gb.beginPath(),gb.moveTo(width/3*2,headerHeight+padding),gb.lineTo(width/3*2,height-padding),gb.stroke(),gb.beginPath(),gb.moveTo(padding,headerHeight+width/3),gb.lineTo(width-padding,headerHeight+width/3),gb.stroke(),gb.beginPath(),gb.moveTo(padding,headerHeight+width/3*2),gb.lineTo(width-padding,headerHeight+width/3*2),gb.stroke()}function restartGame(){board=[[null,null,null],[null,null,null],[null,null,null]],drawBoard(),myMove=!1,updateMove()}function updateMove(){updateButtons();var e=getWinner(board);gb.fillStyle="#ffffff",gb.fillRect(0,0,width,headerHeight),gb.font="50px Helvetica",gb.textAlign="center",gb.fillStyle="Black",1===e?(gb.fillText("You lose",250,65),canvas.removeEventListener("click",handleClick,!1)):0===e?(gb.fillText("You Win",250,65),canvas.removeEventListener("click",handleClick,!1)):e===-1?(gb.fillText("Tie",250,65),canvas.removeEventListener("click",handleClick,!1)):myMove?gb.fillText("My Move",250,65):gb.fillText("Your Move",250,65)}function getWinner(e){for(var n=!0,t=[!0,!1],i=0;i<t.length;i++){for(var r=t[i],a=!0,l=!0,o=0;o<3;o++){e[o][o]!=r&&(a=!1),e[2-o][o]!=r&&(l=!1);for(var d=!0,g=!0,u=0;u<3;u++)e[o][u]!=r&&(d=!1),e[u][o]!=r&&(g=!1),null==e[o][u]&&(n=!1);if(d||g)return r?1:0}if(a||l)return r?1:0}return n?-1:null}function drawO(e,n){gb.beginPath(),gb.lineWidth=8,gb.strokeStyle="#2ecc71",gb.arc(e,n,50,0,2*Math.PI),gb.stroke()}function drawX(e,n){gb.beginPath(),gb.lineWidth=8,gb.lineCap="round",gb.strokeStyle="#c0392b",gb.moveTo(e-50,n-50),gb.lineTo(e+50,n+50),gb.moveTo(e+50,n-50),gb.lineTo(e-50,n+50),gb.stroke()}function updateButtons(){var iconCenter=57,X0=padding+iconCenter,X1=width/2,X2=width-padding-iconCenter,Y0=headerHeight+padding+iconCenter,Y1=headerHeight+width/2,Y2=headerHeight+width-padding-iconCenter;board.map(function(row,index1){return row.map(function(cell,index2){cell===!1?drawX(eval("X"+index2.toString()),eval("Y"+index1.toString())):cell===!0&&drawO(eval("X"+index2.toString()),eval("Y"+index1.toString()))})})}function makeMove(){numNodes=0,board=recurseMinimax(board,!0)[1],console.log(numNodes),myMove=!1,updateMove()}function recurseMinimax(e,n){numNodes++;var t=getWinner(e);if(null==t){for(var i=null,r=null,a=0;a<3;a++)for(var l=0;l<3;l++)if(null==e[a][l]){e[a][l]=n;var o=recurseMinimax(e,!n)[0];(n&&(null==i||o>i)||!n&&(null==i||o<i))&&(r=e.map(function(e){return e.slice()}),i=o),e[a][l]=null}return[i,r]}switch(t){case 1:return[1,e];case 0:return[-1,e];case-1:return[0,e]}}function assignClick(e){function n(e,n){return e<r?n+"0":e<2*r?n+"1":n+"2"}function t(e){if(null===board[e[0]][e[1]])return e}var i=canvas.offsetWidth,r=i/3,a=i*(headerHeight/height),l=e.pageX-canvas.offsetLeft,o=e.pageY-canvas.offsetTop;return o>a&&o<a+r?t(n(l,"0")):o>a+r&&o<a+2*r?t(n(l,"1")):o>a+2*r?t(n(l,"2")):void 0}function handleClick(e){if(assignClick(e)){var n=assignClick(e),t=n[0],i=n[1];myMove||(board[t][i]=!1,myMove=!0,updateMove(),makeMove())}}__webpack_require__(1);var canvas=document.querySelector("#gameboard"),gb=canvas.getContext("2d"),width=500,height=600,headerHeight=100,padding=30,board=[[null,null,null],[null,null,null],[null,null,null]],myMove=!1;myMove&&makeMove();var numNodes=0;canvas.addEventListener("click",handleClick,!1),document.querySelector("#restart").addEventListener("click",function(){canvas.addEventListener("click",handleClick,!1),restartGame()},!1),drawBoard(),updateMove()},function(e,n){}]);